
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pycrypto &#8212; Bibliothèques Python 0.1.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="pygame" href="../pygame/index.html" />
    <link rel="prev" title="networkx" href="../networkx/index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pycrypto">
<span id="pycrypto-tutorial"></span><h1><code class="docutils literal"><span class="pre">pycrypto</span></code><a class="headerlink" href="#pycrypto" title="Permalink to this headline">¶</a></h1>
<p>Par Luca Srdjenovic <a class="footnote-reference" href="#ls" id="id1">[1]</a></p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.dlitz.net/software/pycrypto/">pycrypto</a> est une bibliothèque qui fournit  des outils de cryptographie
primitive implémententés en langage Python.  Par exemple quand on fait du
réseau, on a souvent besoin d’utiliser la cryptographie. En effet des méchants
peuvent se situer entres deux machines qui commmuniquent pour les écouter. Et
le méchant s’il le désire peut faire encore pire, c’est-à-dire remplacer un
bout ou totalement une partie du message envoyé. À noter que pour des raisons
de sécurité, il est recommandé d’utiliser une bibliothèque de haut niveau ce
qui donnera moins de travail au programmeur pour éviter des longues analyses de
sécurité. <a class="reference external" href="https://www.dlitz.net/software/pycrypto/">pycrypto</a> correspond bien à cette demande mais est une approche
dangereuse qui demande de porter un grand détail à son fonctionnement.
Cependant il permet de faire ce que l’on désire en cryptographie.</p>
</div>
<div class="section" id="mots-clefs">
<h2>Mots clefs<a class="headerlink" href="#mots-clefs" title="Permalink to this headline">¶</a></h2>
<p>Quelques mots clefs pour aider la compréhension pour la suite :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name"><cite>plaintext</cite>:</th><td class="field-body">message original</td>
</tr>
<tr class="field-even field"><th class="field-name"><cite>ciphertext</cite>:</th><td class="field-body">message après la transformation cryptograhpique appliqué au
message original</td>
</tr>
<tr class="field-odd field"><th class="field-name"><cite>encrypt</cite>:</th><td class="field-body">produit le ciphertext en appliquant la transformation
cryptographique au plaintext</td>
</tr>
<tr class="field-even field"><th class="field-name"><cite>decrypt</cite>:</th><td class="field-body">produit le plaintext en appliquant la transformation
cryptographique au ciphertext</td>
</tr>
<tr class="field-odd field"><th class="field-name"><cite>cipher</cite>:</th><td class="field-body">une composition particulière de la transformation cryptographique
fournissant encryptage et décryptage</td>
</tr>
<tr class="field-even field"><th class="field-name"><cite>hash</cite>:</th><td class="field-body">transformation cryptographique qui prend une grande entrée et la
transforme en une unique sortie (de taille fixée).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="type-de-cryptage">
<h2>Type de cryptage<a class="headerlink" href="#type-de-cryptage" title="Permalink to this headline">¶</a></h2>
<p>En cryptographie, il existe deux types de chiffrement.
Le symétrique et l’asymétrique. Comme PyCrypto est vaste, nous allons juste
nous intéresser au chiffrement symétrique.</p>
<dl class="docutils">
<dt>Pour le symétrique, il y a deux types de clef :</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">stream</span> <span class="pre">ciphers</span></code>: opération sur des flux de données un byte à la fois</li>
<li><code class="docutils literal"><span class="pre">block</span> <span class="pre">ciphers</span></code>: opération de blocks sur des données, en 16 bytes
à la fois.</li>
</ul>
</dd>
</dl>
<p>Nous allons utiliser le block cipher. Le plus commun et standard avancé est l”<a class="reference external" href="https://secure.wikimedia.org/wikipedia/en/wiki/Advanced_Encryption_Standard">AES</a> si
on n’a pas trop d’idée de quel algorithme de cryptage à utiliser.
Un peu moins commun est le DES.c’est le standard de la cryptographie car il
était très utilisé dans le passé mais sa clef est trop petitE aujourd’hui à cause
de ces 56-bit de taille.</p>
<p>Voici une liste des différents algorithmes possibles :</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Nom du module</th>
<th class="head">Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Crypto.Cipher.AES</td>
<td>Block</td>
</tr>
<tr class="row-odd"><td>Crypto.Cipher.ARC2</td>
<td>Block</td>
</tr>
<tr class="row-even"><td>Crypto.Cipher.ARC4</td>
<td>Stream</td>
</tr>
<tr class="row-odd"><td>Crypto.Cipher.Blowfish</td>
<td>Block</td>
</tr>
<tr class="row-even"><td>Crypto.Cipher.CAST</td>
<td>Block</td>
</tr>
<tr class="row-odd"><td>Crypto.Cipher.DES</td>
<td>Block</td>
</tr>
<tr class="row-even"><td>Crypto.Cipher.DES3</td>
<td>Block</td>
</tr>
<tr class="row-odd"><td>Crypto.Cipher.XOR</td>
<td>Stream</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="cryptographie-symetrique-aes">
<h2>Cryptographie symétrique <code class="docutils literal"><span class="pre">AES</span></code><a class="headerlink" href="#cryptographie-symetrique-aes" title="Permalink to this headline">¶</a></h2>
<p>Les données d’entrées qui sont la plupart du temps des chaînes de caractères
sont transformées en une sorte de variable appelé <code class="docutils literal"><span class="pre">clef</span></code> ce qui va
produire le <code class="docutils literal"><span class="pre">ciphertext</span></code>. Ceci est engendré par des algorithmes
d’encryptions.
Les block ciphers qui prennent des entrées d’une taille fixe entre 8 et 16 octets
les chiffrent. Les cipher blocks requierent des modes. <code class="docutils literal"><span class="pre">ECB</span></code> (Electronic Code Book)
est le mode le plus simple. Ce n’est pas le meilleur parce qu’il
a une faille quand des fichiers contiennent du code qui a une longueur plus grande
que celle des blocks.
Pour palier à ce problème, il y a <code class="docutils literal"><span class="pre">CBC</span></code> (Cipher Block Chaining) qui
combine le texte avec le ciphertext avant chaque encryption et encrypte block
par block. Ce mode est plus lent que le ECB.
Il y a aussi le <code class="docutils literal"><span class="pre">CFB</span></code> (Cipher FeedBack) qui encrypte octet
par octet. Ce mode est encore plus lent que CBC. En plus le CFB demande une
chaine de caractère de base à 8 ou à 16 octets à l’initialisation. CBC et CFB
sont les modes les plus communs.</p>
<a class="reference internal image-reference" href="../_images/penguin.png"><img alt="Tux encrypté avec ECB et CBC." class="align-center" src="../_images/penguin.png" style="width: 299.5px; height: 150.0px;" /></a>
</div>
<div class="section" id="exemple">
<h2>Exemple<a class="headerlink" href="#exemple" title="Permalink to this headline">¶</a></h2>
<p>Pour les exemples nous utiliserons le mode CBC.
Avant de commencer, il nous faut créer un nombre aléatoire qui possède la même
taille du bloc car la cryptographie dépend cruciellement d’un nombre aléatoire.
Nous n’utiliserons pas le random() générateur de python mais celui de PyCrpyto
car ce premier est inaproprié. Ces données aléatoires sont appellées comme un
vecteur d’initialisation (Initialisation Vector).
Donc nous allons écrire une fonction qui nous retourne un nombre aléatoire.</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">Crypto.Random.OSRNG.posix</span> <span class="k">as</span> <span class="nn">RNG</span>

<span class="k">def</span> <span class="nf">randomCryptoNumber</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">RNG</span><span class="o">.</span><span class="n">new</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">AES</span><span class="o">.</span><span class="n">block_size</span><span class="p">)</span> <span class="c1">#Retourne un nombre aléatoire</span>
</pre></div>
</div>
<p>Avant de commencer à crypter notre message, nous devons d’abord s’assurer que la
longueur du bloc de donnée est multiplié par la taille du block. Par exemple,
si notre message est «&nbsp;Bonjoure Bonjoure&nbsp;», nous devons ajouter encore 8 byte. Un schéma
d’ajout est de mettre «&nbsp;0x80&nbsp;» au premier byte et «&nbsp;0x00&nbsp;» aux byte qui suivent
le reste de l’ajout. Ceci donnerai alors sur l’exemple:
«&nbsp;Bonjoure Bonjoure0x800x000x000x000x000x000x000x000x00&nbsp;».</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">À faire</p>
<p class="last">Bonjour sans e, même lorsqu’on s’adresse à la gente féminine.</p>
</div>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ajout_data</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="c1"># si la taille de donnée fait 16 byte, aucun ajout</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">%</span> <span class="mi">16</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="c1"># On enlève un byte pour ajouter le 0x80</span>

    <span class="n">dataAjouter</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">%</span> <span class="mi">16</span><span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="se">\x80</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">data</span>
    <span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\x00</span><span class="s1">&#39;</span> <span class="o">*</span> <span class="n">dataAjouter</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data</span>
</pre></div>
</div>
<p>La fonction pour enlever l’ajout</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">desajout_data</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">data</span>

  <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\x00</span><span class="s1">&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\x80</span><span class="s1">&#39;</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">data</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
  <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">data</span>
</pre></div>
</div>
<p>Maintenant il nous faut une clef pour le symétrique ciphers. Il y a trois
tailles de clefs :</p>
<ul class="simple">
<li>16 bytes (128 bits),</li>
<li>24 bytes (192 bits),</li>
<li>et 32 bytes (256 bits).</li>
</ul>
<p>Nous allons simplement générer une clef aléatoire de 32 bytes avec une fonction.</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">taille_clef</span> <span class="o">=</span> <span class="mi">32</span>

<span class="k">def</span> <span class="nf">generateCryptoKey</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">RNG</span><span class="o">.</span><span class="n">new</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">taille_clef</span><span class="p">)</span>
</pre></div>
</div>
<p>Maintenant, on peut utiliser cette clef pour crypter et decrypter des données.</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">Crypto.Cipher.AES</span> <span class="k">as</span> <span class="nn">AES</span>

<span class="k">def</span> <span class="nf">encrypt</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">clef</span><span class="p">):</span>

  <span class="c1">#Encrypte les donnée utilisant AES en mode CBC</span>

  <span class="n">data</span> <span class="o">=</span> <span class="n">ajout_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
  <span class="n">number</span> <span class="o">=</span> <span class="n">randomCryptoNumber</span><span class="p">()</span>
  <span class="n">aes</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">clef</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CBC</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
  <span class="n">msg_crypt</span> <span class="o">=</span> <span class="n">aes</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">numbet</span> <span class="o">+</span> <span class="n">msg_crypt</span>

<span class="k">def</span> <span class="nf">decrypt</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">,</span> <span class="n">clef</span><span class="p">):</span>

  <span class="c1">#Decrypt un ciphertext encrypté avec l&#39;AES en mode CBC</span>

  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">AES</span><span class="o">.</span><span class="n">block_size</span><span class="p">:</span>
      <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Invalid ciphertext.&quot;</span><span class="p">)</span>
  <span class="n">number</span> <span class="o">=</span> <span class="n">ciphertext</span><span class="p">[:</span><span class="n">AES</span><span class="o">.</span><span class="n">block_size</span><span class="p">]</span>
  <span class="n">ciphertext</span> <span class="o">=</span> <span class="n">ciphertext</span><span class="p">[</span><span class="n">AES</span><span class="o">.</span><span class="n">block_size</span><span class="p">:]</span>
  <span class="n">aes</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">clef</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CBC</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
  <span class="n">data</span> <span class="o">=</span> <span class="n">aes</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">desajout_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Enleve le padding ajouter</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">À faire</p>
<p class="last">ce code devrait être sorti.</p>
</div>
<p>Nous avons sécurisé notre message maintenant, mais ce n’est pas encore
optimale. Il faut ajouter un algorithme de hashage à nos fonctions encrypt et
decrypt. Nous allons utiliser un SHA-384 qui va augmenter de 48 bytes notre AES
qui lui est à 32 bytes pour qu’on soit vraiment performant.</p>
<p>Par exemple, crééons un hash:</p>
<div class="highlight-pycon"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sha</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;Hello Python&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sha</span>
<span class="go">&#39;422fbfbc67fe17c86642c5eaaa48f8b670cbed1b&#39;</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">À faire</p>
<p>pycrypto ne le fait-il pas?</p>
<p class="last"><a class="reference external" href="https://www.dlitz.net/software/pycrypto/api/current/Crypto.Hash.SHA-module.html">https://www.dlitz.net/software/pycrypto/api/current/Crypto.Hash.SHA-module.html</a></p>
</div>
</div>
<div class="section" id="cryptographie-symetrique-des">
<h2>Cryptographie symétrique <code class="docutils literal"><span class="pre">DES</span></code><a class="headerlink" href="#cryptographie-symetrique-des" title="Permalink to this headline">¶</a></h2>
<p>Voici un code pour crypter un string en DES</p>
<div class="highlight-pycon"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">Crypto.Cipher</span> <span class="kn">import</span> <span class="n">DES</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;abcdefgh&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">pad</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
<span class="go">        while len(text) % 8 != 0:</span>
<span class="go">            text += &#39; &#39;</span>
<span class="go">        return text</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">des</span> <span class="o">=</span> <span class="n">DES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">DES</span><span class="o">.</span><span class="n">MODE_ECB</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">padded_text</span> <span class="o">=</span> <span class="n">pad</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encrypted_text</span> <span class="o">=</span> <span class="n">des</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">padded_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encrypted_text</span>
<span class="go">b&#39;&gt;\xfc\x1f\x16x\x87\xb2\x93\x0e\xfcH\x02\xd59VQ&#39;</span>
</pre></div>
</div>
<p>La taille de la clef en DES est de 8 bytes. Pour encrypter le string, il doit
être multiplié par 8 dans sa longueur. La fonction qui fait ça s’appelle
«&nbsp;pad&nbsp;». Elle ajoute des espaces jusqu’a que ce soit un multiple de 8.
Ensuite on crée une instance DES avec le text qu’on veut encrypter.</p>
<p>Pour décrypter, il suffit simplement de faire la commande suivante :</p>
<div class="highlight-pycon"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">des</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">encrypted_text</span><span class="p">)</span>
<span class="go">b&#39;test&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="chiffrement-avec-cles-publiques">
<h2>Chiffrement avec clés publiques<a class="headerlink" href="#chiffrement-avec-cles-publiques" title="Permalink to this headline">¶</a></h2>
<p>Quand on fait du chiffrement avec clefs, on va crée des clés publiques. Si une
personne voudra recevoir des fichiers auxquels il sera le seul à avoir
l’authorisation de lire, il devra avoir une clef privée. Avec la clef pubique,
tous pourront y avoir accès quand elle est diffusée. Mais seulement les
personnes qui ont la clef privée pourront decrypter le message.</p>
</div>
<div class="section" id="exemple-code-avec-aes-et-des-en-mode-cfb">
<h2>Exemple code avec AES et DES en mode CFB<a class="headerlink" href="#exemple-code-avec-aes-et-des-en-mode-cfb" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;Example de Pycrypto.&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">Crypto</span> <span class="k">import</span> <span class="n">Random</span>
<span class="kn">from</span> <span class="nn">Crypto.Cipher</span> <span class="k">import</span> <span class="n">AES</span><span class="p">,</span> <span class="n">DES</span>

<span class="c1"># Vecteurs d&#39;initialisation</span>
<span class="n">iv_AES</span> <span class="o">=</span> <span class="n">Random</span><span class="o">.</span><span class="n">new</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">AES</span><span class="o">.</span><span class="n">block_size</span><span class="p">)</span>
<span class="n">iv_DES</span> <span class="o">=</span> <span class="n">Random</span><span class="o">.</span><span class="n">get_random_bytes</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

<span class="n">key_AES</span> <span class="o">=</span> <span class="s1">&#39;abcdefghijklmnop&#39;</span>
<span class="n">key_DES</span> <span class="o">=</span> <span class="s1">&#39;abcdefgh&#39;</span>

<span class="n">aese</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">key_AES</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CFB</span><span class="p">,</span> <span class="n">iv_AES</span><span class="p">)</span>
<span class="n">aesd</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">key_AES</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CFB</span><span class="p">,</span> <span class="n">iv_AES</span><span class="p">)</span>
<span class="n">dese</span> <span class="o">=</span> <span class="n">DES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">key_DES</span><span class="p">,</span> <span class="n">DES</span><span class="o">.</span><span class="n">MODE_CFB</span><span class="p">,</span> <span class="n">iv_DES</span><span class="p">)</span>
<span class="n">desd</span> <span class="o">=</span> <span class="n">DES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">key_DES</span><span class="p">,</span> <span class="n">DES</span><span class="o">.</span><span class="n">MODE_CFB</span><span class="p">,</span> <span class="n">iv_DES</span><span class="p">)</span>

<span class="n">plaintext</span> <span class="o">=</span> <span class="s1">&#39;Hello! World&#39;</span>

<span class="n">plaintext</span> <span class="o">=</span> <span class="n">aesd</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">aese</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">plaintext</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">plaintext</span><span class="p">)</span>

<span class="n">plaintext</span> <span class="o">=</span> <span class="n">desd</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">dese</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">plaintext</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">plaintext</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Resultat:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="c1">#Output AES</span>
<span class="sa">b</span><span class="s1">&#39;Hello! World&#39;</span>

<span class="c1">#Output DES</span>
<span class="sa">b</span><span class="s1">&#39;Hello! World&#39;</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-3">
<p class="first admonition-title">À faire</p>
<p class="last">Séparer ces deux exemples rendrait leur compréhension facilitée. Surtout quand
ils comportent des erreurs.</p>
</div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>Aujourd’hui, la cryptographie est une importante partie pour quiconque voudrait
rendre sûr leur donnée. Il existe plus de dizaines de système de chiffrement
rien qu’en Python. Si l’on désire faire des systèmes de communications
sécurisés ou des votes électroniques, il est recommandé d’utiliser des
protocoles de haut niveau. Python fournit un large panel d’outils pour y
remédier, c’est pour ça qu’il est important d’avoir quelques notions pour
éviter de se perdre.</p>
</div>
<div class="section" id="bibliographie">
<h2>Bibliographie<a class="headerlink" href="#bibliographie" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://www.blog.pythonlibrary.org/2016/05/18/python-3-an-intro-to-encryption">https://www.blog.pythonlibrary.org/2016/05/18/python-3-an-intro-to-encryption</a></li>
<li><a class="reference external" href="https://erroneousthoughts.org/2014/04/27/introduction-to-pycrypto/">https://erroneousthoughts.org/2014/04/27/introduction-to-pycrypto/</a></li>
<li><a class="reference external" href="https://leanpub.com/pycrypto/read">https://leanpub.com/pycrypto/read</a></li>
</ul>
<table class="docutils footnote" frame="void" id="ls" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>&lt;<a class="reference external" href="mailto:luca&#46;srdjenovic&#37;&#52;&#48;he-arc&#46;ch">luca<span>&#46;</span>srdjenovic<span>&#64;</span>he-arc<span>&#46;</span>ch</a>&gt;</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table des Matières</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">pycrypto</span></code></a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#mots-clefs">Mots clefs</a></li>
<li><a class="reference internal" href="#type-de-cryptage">Type de cryptage</a></li>
<li><a class="reference internal" href="#cryptographie-symetrique-aes">Cryptographie symétrique <code class="docutils literal"><span class="pre">AES</span></code></a></li>
<li><a class="reference internal" href="#exemple">Exemple</a></li>
<li><a class="reference internal" href="#cryptographie-symetrique-des">Cryptographie symétrique <code class="docutils literal"><span class="pre">DES</span></code></a></li>
<li><a class="reference internal" href="#chiffrement-avec-cles-publiques">Chiffrement avec clés publiques</a></li>
<li><a class="reference internal" href="#exemple-code-avec-aes-et-des-en-mode-cfb">Exemple code avec AES et DES en mode CFB</a></li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
<li><a class="reference internal" href="#bibliographie">Bibliographie</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../networkx/index.html" title="Chapitre précédent"><code class="docutils literal"><span class="pre">networkx</span></code></a></li>
      <li>Next: <a href="../pygame/index.html" title="Chapitre suivant"><code class="docutils literal"><span class="pre">pygame</span></code></a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/pycrypto/index.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016-2017, HE-Arc.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/pycrypto/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>